# Nueva cota temporal

Kleinberg-Tardos demuestran que en cada ciclo del algoritmo Ford Fulkerson, el flujo aumenta, y que aumenta como mínimo en una unidad (afirmaciones 7.2 y 7.3), así, establecen que el ciclo del algoritmo en el que se aumentan los flujos se ejecutará al menos C veces, siendo C una cota del flujo máximo. Kleinberg y Tardos acotan el flujo máximo con C igual a la suma de las capacidades salientes de la fuente.

Aquí pretendemos extender la cota temporal del algoritmo Ford-Fulkerson a redes de flujo con grafos con capacidades infinitas. En este caso, el flujo máximo o bien es infinito (en el caso de que exista un augmenting path conformado de aristas que sólo tienen capacidad infinita), o bien es un entero (si no existe tal augmenting path). Si el flujo máximo es un entero, debe ser menor o igual a la suma de todas las capacidades no infinitas de las aristas del grafo, ya que el corte mínimo debe estar conformado por aristas de capacidad entera (como mucho, todas). Si el flujo es infinito, es natural pensar que se encontrará en como mucho un path augmentation más que cualquier flujo entero. Por lo tanto, el algoritmo Ford-Fulkerson con capacidades infinitas tomará como mucho K+1 iteraciones, siendo K la suma de las capacidades no infinitas.

Ahora pretendemos acotar temporalmente el algoritmo propuesto. Una primera cota es O(m^2K), es decir, la ejecución de Ford-Fulkerson m veces. Sin embargo, como el algoritmo no se inicia de nuevo, sino que se continúa en cada ciclo, la cantidad de veces que se ejecutarán path augmentations será m+K, con lo cual tendremos una cota de O(m*(m+K)). Como K>=m (debido a que partimos de un grafo con capacidades finitas y enteras), tendremos la cota O(m*K). 

Afirmación: La cantidad de veces que se ejecutan path augmentations en nuestro algoritmo será como mucho m+K+1.

Demostración: En cada ejecución del ciclo exterior de nuestro algoritmo, el flujo no disminuye, es decir, o bien aumenta, o bien permanece constante. Sea el aumento de flujo en el ciclo i delta_i, siendo delta_i>=0, con delta_0 el flujo inicial. En nuestro algoritmo no volvemos a empezar la ejecución de Ford-Fulkerson para cada arista removida del grafo sino que se continúa la ejecución previa. Así, a partir de las afirmaciones 7.2 y 7.3 de Kleinberg y Tardos podemos concluir que en cada ejecución de Ford-Fulkerson se ejecutan, como mucho, delta_i ciclos, es decir, se aumentan delta_i caminos. 
En algunas iteraciones del ciclo exterior podría no obtenerse ningún incremento respecto del flujo anterior, con lo cual la cantidad de veces que se buscan augmenting paths en la iteración i es max{1,delta_i}.
Sea DELTA_i la suma de delta_j con j desde 0 hasta i. Así, DELTA_i es el flujo máximo obtenido en la iteración i. Así, la suma de max{1,delta_j} desde 0 hasta i <= DELTA_i + i para todo i. Sea M la iteración final del algoritmo en el peor caso. En ella, se alcanzará un flujo infinito. Así, en la iteración M-1 se tendrá el último flujo finito. Tal como discutido previamente, DELTA_{M-1} <= suma de c_e para todo e perteneciente a E tal que c_e es distinto de infinito, teniendo c_e los valores correspondientes a la iteración M-1. Como en la iteración M-1 se habrá cambiado el valor de M-1 capacidades a infinito, entonces la suma de las capacidades finitas en el paso M-1 será menor que la suma de las capacidades de la red inicial K. Por lo tanto, DELTA_{M-1}<=K.
En conclusión, la cantidad de veces que se buscan augmenting paths hasta la ejecución M-1 es la suma de max{1,delta_j} desde 0 hasta M-1 <= DELTA_{M-1} + M - 1 <= K + M - 1.
Como el algoritmo se detiene, en el peor caso, cuando las m aristas tuvieron su capacidad cambiada a infinito, tenemos que M<=m, con lo cual K+M-1<=K+m-1. 
Además, en el paso M se busca el último augmenting path: aquel que va de s a t, con capacidad infinita en todas sus aristas. Así, se buscarán, como mucho k+m-1+1 augmneting paths, llegando así al máximo de k+m augmenting paths.